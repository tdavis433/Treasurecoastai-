Here you go ‚Äì this is the ‚ÄúPrompt #1‚Äù I‚Äôd send to Replit to focus it entirely on the Faith House landlord demo, ‚Äúbook a tour / schedule a phone call‚Äù flows, and tightening everything around that.

Just copy everything between the lines into Replit Agent:

‚∏ª

üî• REPLIT AGENT PROMPT ‚Äì FAITH HOUSE LANDLORD DEMO UPGRADE

You are an expert full-stack SaaS engineer working on an existing production-grade multi-tenant AI chatbot platform called Treasure Coast AI.

The repo you are in already contains:
	‚Ä¢	A Node/Express + Postgres/Drizzle backend in server/
	‚Ä¢	A React + TypeScript + Vite frontend in client/
	‚Ä¢	Multi-tenant structure with:
	‚Ä¢	Super-admin / agency area
	‚Ä¢	Client dashboard
	‚Ä¢	AI bot orchestrator
	‚Ä¢	Lead capture, bookings, analytics, Stripe billing, etc.

Your task in this session is very focused:

Upgrade and polish the Faith House tenant (sober living demo) so that it is absolutely perfect for a landlord demo, with clear ‚ÄúBook a tour‚Äù and ‚ÄúSchedule a phone call‚Äù flows wired all the way from chat ‚Üí database ‚Üí client dashboard UI.

Do not attempt a full rewrite or huge redesign. Keep the current architecture and patterns. We are doing targeted, high-impact improvements around Faith House and its demo flow.

‚∏ª

0. Understand the current structure
	1.	Find and briefly map:
	‚Ä¢	server/app.ts (or main Express entry)
	‚Ä¢	server/routes.ts (or route registration)
	‚Ä¢	server/orchestrator.ts (AI chat orchestration)
	‚Ä¢	server/storage.ts and DB schema (Drizzle models)
	‚Ä¢	Any Faith House specific config:
	‚Ä¢	Look for ‚ÄúFaith House‚Äù, ‚Äúsober living‚Äù, or demo client seeds in:
	‚Ä¢	server/seed, server/scripts, server/config, or similar.
	‚Ä¢	Client app structure:
	‚Ä¢	client/src/main.tsx (or equivalent)
	‚Ä¢	client/src/pages or client/src/routes:
	‚Ä¢	Client dashboard pages: overview, conversations, leads, bookings, settings
	‚Ä¢	Super-admin pages: clients, bots, templates, analytics, etc.
	‚Ä¢	Chat widget/demo entry: usually under client/src/components/chat or client/src/widget.
	2.	Build a mental model (document it in comments or a small docs/faith-house-notes.md file) of:
	‚Ä¢	How a chat request flows:
	‚Ä¢	Widget ‚Üí API ‚Üí orchestrator ‚Üí OpenAI ‚Üí storage (leads/bookings/analytics).
	‚Ä¢	How leads and appointments/bookings are currently represented in the DB and dashboard.
	‚Ä¢	Where the bot system prompts / configs are stored (DB vs config files).

Do not change anything yet. Just locate and understand, then proceed.

‚∏ª

1. Clarify the product objective for this task

We are focusing on one tenant: Faith House (sober living demo).

From the product perspective, the Faith House assistant must:
	1.	Speak and behave like a sober living facility assistant:
	‚Ä¢	Warm, supportive, but firm and professional.
	‚Ä¢	Clear about:
	‚Ä¢	House structure
	‚Ä¢	Rules
	‚Ä¢	Expectations
	‚Ä¢	Types of residents accepted (e.g., sobriety expectations).
	‚Ä¢	No clinical / medical advice (it can encourage contacting professionals or the facility directly).
	2.	Have two primary conversion goals:
	‚Ä¢	Book a tour of the sober living house.
	‚Ä¢	Schedule a phone call with staff.
	3.	In chats where a user:
	‚Ä¢	Asks about availability, pricing, rules, or seems interested:
	‚Ä¢	The assistant should naturally steer them toward:
	‚Ä¢	‚ÄúWould you like to book a tour or schedule a phone call?‚Äù
	‚Ä¢	Then collect:
	‚Ä¢	Full name
	‚Ä¢	Phone number
	‚Ä¢	Email (if appropriate)
	‚Ä¢	Preference: Tour or Phone call
	‚Ä¢	Preferred date/time window
	‚Ä¢	Any key notes (e.g., looking for bed next week, family calling for son, etc.)
	4.	Every successful ‚Äútour‚Äù or ‚Äúphone call‚Äù request must:
	‚Ä¢	Create a proper booking / lead record in the DB.
	‚Ä¢	Be clearly visible in the Faith House client dashboard with:
	‚Ä¢	Type: Tour or Phone call
	‚Ä¢	Contact info
	‚Ä¢	Requested date/time
	‚Ä¢	Notes from the conversation
	‚Ä¢	Link back to the conversation transcript.

The landlord demo flow we want:
	1.	Open Faith House chat demo.
	2.	Ask real questions:
	‚Ä¢	‚ÄúDo you have any beds open right now?‚Äù
	‚Ä¢	‚ÄúWhat are your house rules?‚Äù
	3.	Then say:
	‚Ä¢	‚ÄúCan I book a tour?‚Äù
	‚Ä¢	‚ÄúCan I schedule a phone call?‚Äù
	4.	The bot walks through the booking process, capturing all required info.
	5.	Switch to the Faith House client dashboard and show:
	‚Ä¢	New conversation entries.
	‚Ä¢	New lead / booking entries tagged as Tour or Phone call.
	6.	Show that tomorrow morning the landlord/staff can log in, see all tour/call requests, and follow up.

Everything you do must serve this flow.

‚∏ª

2. Update / create the Faith House bot configuration & system prompt

2.1. Locate Faith House bot config
	1.	Find where bots are stored:
	‚Ä¢	Either in a bots table via Drizzle or a JSON config/seed.
	‚Ä¢	Identify the record/config for Faith House.
	‚Ä¢	It might have fields like: clientId, name, industry, systemPrompt, knowledgeBase, etc.
	2.	Confirm how bot settings are loaded into the orchestrator:
	‚Ä¢	In server/orchestrator.ts (or equivalent), trace:
	‚Ä¢	Incoming request (with botId or clientId)
	‚Ä¢	Bot config fetch
	‚Ä¢	System prompt assembly
	‚Ä¢	Any industry / template specific layers.

2.2. Implement a new, explicit Faith House system prompt
	1.	Create or update the Faith House bot‚Äôs system prompt to be explicitly tailored to:
	‚Ä¢	Sober living facility
	‚Ä¢	Faith House branding/tone (use neutral placeholder if branding text isn‚Äôt in the repo)
	‚Ä¢	Clear disclaimers: no medical advice
	‚Ä¢	Strong focus on:
	‚Ä¢	Answering common questions (rules, rooms, pricing ballpark, visiting hours, etc.)
	‚Ä¢	Gently steering toward:
	‚Ä¢	‚ÄúBook a tour‚Äù
	‚Ä¢	‚ÄúSchedule a phone call‚Äù
	2.	The system prompt for Faith House should explicitly instruct the model:
	‚Ä¢	Always be respectful and non-judgmental.
	‚Ä¢	When users express interest or concern (beds, availability, rules, cost, if they‚Äôre a good fit):
	‚Ä¢	Proactively offer:
‚ÄúIf you‚Äôd like, I can help you book a tour of the house or schedule a phone call with staff. Which would you prefer?‚Äù
	‚Ä¢	When user chooses tour or phone call:
	‚Ä¢	Collect:
	‚Ä¢	Full name
	‚Ä¢	Best phone number
	‚Ä¢	Email (optional but preferred)
	‚Ä¢	Preferred dates/times (with time zone assumption)
	‚Ä¢	Any notes or context
	‚Ä¢	Confirm and summarize:
	‚Ä¢	‚ÄúI‚Äôll pass this to the team as a [Tour/Phone Call] request with your contact information and preferred time.‚Äù
	3.	Save this system prompt in the bot config, not hard-coded inside orchestrator logic:
	‚Ä¢	The orchestrator may add generic instructions (safety, JSON mode, etc.), but Faith House behavior should live in the Faith House bot record/template.
	4.	Ensure that whatever prompt format you use is consistent with the existing orchestrator:
	‚Ä¢	If the orchestrator uses roles like system, assistant, user, build the Faith House system message accordingly.
	‚Ä¢	Maintain any JSON / tool response protocols if used.

‚∏ª

3. Wire booking intent ‚Üí DB ‚Üí dashboard for ‚ÄúTour‚Äù and ‚ÄúPhone Call‚Äù

We want the system to reliably distinguish and store two booking types.

3.1. Booking / appointment model update
	1.	Inspect the current booking/appointment schema in server/storage.ts and DB schema files:
	‚Ä¢	Look for tables like:
	‚Ä¢	appointments, bookings, or similar.
	‚Ä¢	Identify fields:
	‚Ä¢	id, clientId, botId, customerName, phone, email, time, status, notes, etc.
	2.	Add a type field to represent tour vs phone call, if it doesn‚Äôt already exist:
	‚Ä¢	Name it something like type or bookingType.
	‚Ä¢	Use a string type with constrained values in the app layer:
	‚Ä¢	'tour' | 'phone_call'
	‚Ä¢	Update:
	‚Ä¢	Drizzle schema
	‚Ä¢	Types
	‚Ä¢	Any relevant TypeScript interfaces.
	3.	Ensure any code that creates or reads bookings:
	‚Ä¢	Is updated to know about the type field.
	‚Ä¢	Defaults sensibly if older bookings exist (e.g., default to 'phone_call' or 'unknown' where type is missing).

3.2. Orchestrator: turning intent into structured booking data
	1.	In server/orchestrator.ts (or equivalent), identify:
	‚Ä¢	Where the AI response is parsed for booking/lead intent.
	‚Ä¢	Where booking creation calls happen (e.g., createAppointment, createLead, etc).
	2.	Update the logic so that when the AI has guided the user through a tour or phone call flow:
	‚Ä¢	It can pass structured data including:
	‚Ä¢	bookingType: 'tour' or 'phone_call'.
	‚Ä¢	name, phone, email, preferredTime, notes, etc.
	3.	If the orchestrator uses a JSON tool or special format for structured actions:
	‚Ä¢	Extend that schema so the assistant can emit something like:

{
  "action": "create_booking",
  "bookingType": "tour",
  "name": "John Doe",
  "phone": "555-123-4567",
  "email": "john@example.com",
  "preferredTime": "2025-12-15T16:00:00-05:00",
  "notes": "Looking for a bed in January, calling for his brother."
}


	‚Ä¢	Update the parser to extract bookingType and map it to the DB type field.

	4.	Make sure the logic is generic enough that other clients could also use booking types later, but for now the main use case is Faith House.

‚∏ª

4. Client dashboard: make ‚ÄúTour / Phone Call‚Äù crystal clear

We need the landlord / staff to instantly see what each booking is.

4.1. Locate Faith House‚Äôs client dashboard views
	1.	Find the React pages for client dashboard:
	‚Ä¢	Likely under client/src/pages/client or similar.
	‚Ä¢	Identify:
	‚Ä¢	Overview page
	‚Ä¢	Conversations page
	‚Ä¢	Leads page
	‚Ä¢	Appointments / Bookings page
	‚Ä¢	Settings page.
	2.	Confirm how bookings/appointments are fetched:
	‚Ä¢	Via a hook or React Query (TanStack Query) calling an API route like /api/client/appointments or /api/client/bookings.

4.2. Update the bookings table
	1.	On the bookings/appointments page:
	‚Ä¢	Add a ‚ÄúType‚Äù column that shows:
	‚Ä¢	‚ÄúTour‚Äù if type === 'tour'
	‚Ä¢	‚ÄúPhone call‚Äù if type === 'phone_call'
	‚Ä¢	Possibly a fallback like ‚ÄúOther‚Äù for legacy data.
	2.	Ensure the row details or expanded view also show:
	‚Ä¢	Type
	‚Ä¢	Contact info (name, phone, email)
	‚Ä¢	Requested date/time
	‚Ä¢	Notes.
	3.	Make sure the copy in the UI matches the Faith House context:
	‚Ä¢	Headings and labels can stay generic (‚ÄúBookings‚Äù or ‚ÄúAppointments‚Äù), but type should be explicit:
	‚Ä¢	‚ÄúBooking Type: Tour‚Äù
	‚Ä¢	‚ÄúBooking Type: Phone call‚Äù.

4.3. Link back to conversation
	1.	If not already present, add a way to jump from a booking/lead to its conversation:
	‚Ä¢	E.g., a ‚ÄúView conversation‚Äù button that opens the relevant chat thread in the Conversations page.
	‚Ä¢	Use whatever existing message/session IDs you have in the DB.
	2.	This is important for demo:
	‚Ä¢	You can show: ‚ÄúHere‚Äôs the booking, and here‚Äôs the exact conversation that created it.‚Äù

‚∏ª

5. Faith House ‚ÄúExecutive Summary‚Äù on the dashboard

Implement a small summary section for Faith House that clearly communicates value.

5.1. Backend stats endpoint (if not already present)
	1.	Check if there‚Äôs already an endpoint returning summary stats for clients:
	‚Ä¢	Something like /api/client/overview or /api/client/stats.
	2.	If needed, add or extend an endpoint to return, at least for the last 7 days:
	‚Ä¢	totalConversations
	‚Ä¢	totalLeads
	‚Ä¢	totalBookings
	‚Ä¢	totalTours
	‚Ä¢	totalPhoneCalls
	3.	Use existing analytics tables where possible (e.g., conversationAnalytics, leads, appointments).

5.2. Frontend summary card
	1.	On the Faith House client dashboard overview page, add a top section showing something like:
	‚Ä¢	‚ÄúIn the last 7 days your assistant:‚Äù
	‚Ä¢	Talked to X people
	‚Ä¢	Captured Y leads
	‚Ä¢	Booked A tours and B phone calls
	2.	Use existing styling systems (cards, glass panels, etc.) to keep consistent UI.
	3.	Make sure this is visible above the fold so it hits immediately during the landlord demo.

‚∏ª

6. Demo scripts & documentation

Create a small doc file to lock in the demo flow.
	1.	Add docs/faith-house-demo-script.md (or update an existing doc) with:
	‚Ä¢	Step-by-step landlord demo script:
	‚Ä¢	Open Faith House widget.
	‚Ä¢	Example questions to ask.
	‚Ä¢	Example tour + phone call flow.
	‚Ä¢	How to switch into dashboard and show new bookings/leads.
	‚Ä¢	Key phrases that show off:
	‚Ä¢	24/7 answering
	‚Ä¢	Lead capture
	‚Ä¢	Clear overview on dashboard.
	2.	Make sure the code and UX changes you make actually support this script without hacks or manual DB edits.

‚∏ª

7. Quality checks before you finish

Before you consider this task done, run through these checks:
	1.	End-to-end manual test for Faith House:
	‚Ä¢	Start a chat in the Faith House demo.
	‚Ä¢	Ask a few questions.
	‚Ä¢	Say: ‚ÄúI‚Äôd like to book a tour‚Äù ‚Üí go through full flow.
	‚Ä¢	Say: ‚ÄúI‚Äôd like to schedule a phone call‚Äù in another chat ‚Üí go through full flow.
	‚Ä¢	Verify:
	‚Ä¢	Both bookings are stored in DB with proper type values.
	‚Ä¢	Both appear in the Faith House client dashboard with clear type labels.
	‚Ä¢	Contact info and notes are correct.
	‚Ä¢	Stats/summary reflect the new data.
	2.	Regression check for other tenants:
	‚Ä¢	Confirm other clients that previously used appointments/bookings still work.
	‚Ä¢	If they don‚Äôt use type yet, they should continue functioning with a sensible default.
	3.	Code sanity:
	‚Ä¢	No TypeScript errors.
	‚Ä¢	No runtime crashes on relevant pages.
	‚Ä¢	Existing tests pass; add or update tests for the new type and booking behavior if the test suite exists.

‚∏ª

8. Style & constraints
	‚Ä¢	Do not introduce big dependencies or rewrite architecture.
	‚Ä¢	Follow the existing patterns for:
	‚Ä¢	Drizzle schema
	‚Ä¢	React components
	‚Ä¢	API routing
	‚Ä¢	Orchestrator design.
	‚Ä¢	Keep your changes focused on:
	‚Ä¢	Faith House system prompt / bot config
	‚Ä¢	Booking type field
	‚Ä¢	Orchestrator ‚Üí DB mapping
	‚Ä¢	Client dashboard UI for bookings
	‚Ä¢	Simple stats summary.

At the end, summarize in a short markdown note:
	‚Ä¢	Files touched
	‚Ä¢	Schema changes
	‚Ä¢	New fields and allowed values
	‚Ä¢	How to run the landlord demo step-by-step.

‚∏ª

END OF PROMPT

‚∏ª

If you want, next we can do Prompt #2 focused only on: ‚Äúrewrite the Faith House system prompt exactly, word-for-word‚Äù or a separate one for ‚Äúclient dashboard UX polish‚Äù, but this one will get Replit moving in the right direction around the landlord demo and the tour/phone call flows.