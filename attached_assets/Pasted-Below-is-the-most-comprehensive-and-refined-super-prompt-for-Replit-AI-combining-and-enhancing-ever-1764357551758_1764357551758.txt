Below is the most comprehensive and refined super-prompt for Replit AI, combining and enhancing every instruction from the previous drafts. It integrates all audit findings, required fixes, missing features, UI/UX improvements, security hardening, advanced features, and final QA. Paste this entire block into Replit AI‚Äîit‚Äôs designed to leave no ambiguity and produce a truly elite SaaS platform.

‚∏ª

üöÄ  ULTIMATE OWNER-GRADE SAAS REBUILD PROMPT FOR REPLIT

(Paste this entire prompt into Replit AI)

You are Replit AI. You will perform a complete audit, rebuild, refactor, feature expansion, UI/UX overhaul, backend upgrade, security hardening, and final polish of my entire multi-tenant AI chatbot SaaS platform.

You MUST follow every instruction below. There are no optional items. Do not skip anything. Do not leave TODOs. Do not implement partially. Maintain all existing working features (chat, leads, analytics, billing, demos, admin) while elevating the platform to production-grade quality.

‚∏ª

‚úÖ SECTION 1 ‚Äî GLOBAL RULES
	1.	Scan and analyze every file in the project (server/, client/, shared/, public/widget/, bots/, clients/, etc.).
	2.	Identify every problem, missing feature, weak area, security flaw, and improvement opportunity.
	3.	Fix or improve all issues you find.
	4.	Implement all missing features listed below.
	5.	Remove all dead, duplicated, outdated, or unnecessary code/files.
	6.	Upgrade the UI, backend, database, widget, analytics, and admin to professional SaaS standards.
	7.	Maintain all existing functionality (chat engine, Stripe, analytics, leads, demos, super admin).
	8.	Ensure zero regressions.

This is a full-system rebuild‚Äînot a partial patch.

‚∏ª

‚úÖ SECTION 2 ‚Äî AUDIT FINDINGS & REQUIRED FIXES

Implement ALL of the following:

1. Remove JSON as Runtime Data
	‚Ä¢	Currently: /clients/clients.json and /bots/*.json.
	‚Ä¢	MUST migrate all live client data into PostgreSQL (clients table).
	‚Ä¢	MUST migrate all live bot configs into DB tables: bots, bot_settings, and bot_knowledge.
	‚Ä¢	Treat JSON files ONLY as templates used for cloning when creating a new bot.
	‚Ä¢	Replace all file-based loading logic with DB queries.

2. Implement Workspaces & Team System
	‚Ä¢	Add workspaces and workspace_memberships tables.
	‚Ä¢	Support roles: Owner, Manager, Staff, Support Agent.
	‚Ä¢	Workspace users can manage bots, view analytics, manage leads, manage settings; Owners can manage billing.
	‚Ä¢	Super Admin features must include workspace impersonation, suspension, global analytics, and logs.

3. Fix Faith House Feature Leakage
	‚Ä¢	Introduce industry or botType column.
	‚Ä¢	Ensure sober-living (Faith House) features (crisis flow, pre-intake, red flags, special appointments) only appear when industry = sober_living.
	‚Ä¢	Hide them for all other industries.

4. Add Bot Creation Wizard
	‚Ä¢	Create a 5-step guided wizard:
	1.	Business Info ‚Äî name, contact, address, industry
	2.	Services ‚Äî list builder
	3.	FAQs ‚Äî question/answer pairs
	4.	Tone & Personality ‚Äî sliders or presets
	5.	Install Snippet ‚Äî outputs widget code
	‚Ä¢	Wizard output must insert bots, bot_settings, and bot_knowledge records, assign to workspace, and generate the widget snippet.

5. Add Full Bot CRUD API
	‚Ä¢	Add endpoints:
	‚Ä¢	POST /api/bots
	‚Ä¢	GET /api/bots
	‚Ä¢	GET /api/bots/:id
	‚Ä¢	PUT /api/bots/:id
	‚Ä¢	DELETE /api/bots/:id
	‚Ä¢	Enforce validation: workspace ownership, role permissions, bot/workspace mapping, multi-tenant boundaries.

6. Harden Multi-Tenant Security
	‚Ä¢	Require workspaceId in every DB query.
	‚Ä¢	Resolve all chat requests via workspace ‚Üí bot ‚Üí conversation.
	‚Ä¢	Deny cross-workspace access.
	‚Ä¢	Validate widget requests for proper bot ownership.
	‚Ä¢	Use signed widget tokens to prevent spoofing of clientId/botId.

7. Apply Zod Validation Everywhere
	‚Ä¢	Validate body, params, query, botId, and workspaceId on all routes.
	‚Ä¢	Return clear errors for invalid input.

8. Upgrade Automations Engine
	‚Ä¢	V1 (Rules Engine): Fix weak logic, ensure consistent evaluation, add test coverage.
	‚Ä¢	V2 (Flow Builder): Implement a drag-and-drop visual editor with node types:
	‚Ä¢	Trigger, Condition, Send Message, Ask Question, Lead Capture, Set Variable, Branch (if/else), End.
	‚Ä¢	Include flow preview, AI-assisted flow generation, and a backend executor.

9. Upgrade Chat Widget
	‚Ä¢	Add bot avatar and name in header.
	‚Ä¢	Support customizable theme (colors, fonts, gradients, bubble shapes).
	‚Ä¢	Add welcome message.
	‚Ä¢	Improve mobile friendliness (slide-up chat).
	‚Ä¢	Smooth animations, better minimize/close logic.
	‚Ä¢	Rate limiting.
	‚Ä¢	Signed tokens in widget initialization to prevent spoofing.

10. Upgrade Analytics
	‚Ä¢	Provide 7-day and 30-day filters.
	‚Ä¢	Show conversation volume chart, leads chart, conversion rate, most common questions, per-bot analytics, active-hours heatmap, usage versus plan.
	‚Ä¢	Backend logs events already‚Äîfrontend must render these.

11. Upgrade Lead Management
	‚Ä¢	Add lead statuses: New, Active, Contacted, Closed.
	‚Ä¢	Add notes and tags fields.
	‚Ä¢	Implement search, sorting, and pagination.

12. Upgrade Inbox
	‚Ä¢	Show timestamps.
	‚Ä¢	Add typing indicator.
	‚Ä¢	Support agent reply mode and conversation closing.
	‚Ä¢	Group messages by sender/day.
	‚Ä¢	Show which automations triggered.

13. Upgrade Appointment System
	‚Ä¢	Make scheduling universal, not just for Faith House.
	‚Ä¢	Support appointment types, staff assignment, calendar view, availability, and email/text reminders.

14. UI/UX Overhaul
	‚Ä¢	Apply a unified dark neon-glass aesthetic: consistent typography, spacing, gradients, cards, panels, buttons, tables, modals, inputs, and tooltips.
	‚Ä¢	Add skeleton loaders, empty state illustrations, branded footer, sidebar icons, hover animations, and polished microcopy across the app.

15. Remove Dead Code
	‚Ä¢	Delete unused demo pages, components, CSS, duplicate functions, debugging logs, and placeholder code.

16. Add Test Coverage
	‚Ä¢	Write integration tests for the chat engine, automations, leads, Stripe webhooks, admin access, widget initialization, and multi-tenant boundaries.

17. Billing Improvements
	‚Ä¢	Add plan status card, next billing date, a link to the Stripe portal, an ‚Äúon hold‚Äù banner, and usage progress bars.

18. Complete Super Admin
	‚Ä¢	Implement impersonation, plan management, workspace suspension, global analytics, and a comprehensive logs viewer.

19. Seed Industry Templates
	‚Ä¢	Create DB seed templates for:
	‚Ä¢	Restaurant, Barber, Gym, Auto Shop, Home Services, Tattoo Studio, Real Estate, Sober Living.
	‚Ä¢	Each template must include business info, services, FAQs, tone, flows (sober-living only where relevant), and widget themes.

‚∏ª

‚úÖ SECTION 3 ‚Äî PREMIUM FEATURES (Implement ALL)

To stand out from competitors, add these premium capabilities:
	1.	Smart CRM
	‚Ä¢	Customer profiles with conversation history, lead status timeline, notes, tags, and contact info.
	2.	Reviews Engine
	‚Ä¢	Detect positive sentiment and prompt customers:
‚ÄúWould you like to leave a Google review?‚Äù
	‚Ä¢	Direct them to the business‚Äôs Google review link.
	3.	Multi-Language Support
	‚Ä¢	Auto-detect user language and respond accordingly.
	‚Ä¢	Admin chooses primary and fallback languages.
	4.	Vision Support (AI Image Understanding)
	‚Ä¢	Allow users to upload images (car damage, products, tattoos, injuries, documents).
	‚Ä¢	Use GPT-Vision to interpret and respond.
	5.	Voice Messaging
	‚Ä¢	Let users send audio messages via the widget.
	‚Ä¢	Record, transcribe, and reply with AI.
	6.	Auto-Train From Website
	‚Ä¢	Admin pastes a URL; system scrapes about/services/hours/FAQs and auto-fills bot content.
	7.	AI Lead Scoring
	‚Ä¢	Classify leads as Hot, Warm, or Cold based on conversation content.
	8.	AI Inbox Summaries
	‚Ä¢	Provide summary, sentiment, urgency, lead quality, and next-step suggestions for each conversation.
	9.	Knowledge Gap Alerts
	‚Ä¢	Detect recurring questions not covered by the bot; prompt admins to expand FAQs.
	10.	AI Appointment Suggestions
	‚Ä¢	Check calendar availability and suggest appropriate time slots automatically.
	11.	AI Personality Builder
	‚Ä¢	Use sliders (Formality, Enthusiasm, Humor, Warmth) to generate customized system prompts for the bot.
	12.	Real-Time Dashboard AI Assistant
	‚Ä¢	Owners can query the system: ‚ÄúShow all warm leads this week.‚Äù ‚ÄúSummarize yesterday‚Äôs chats.‚Äù ‚ÄúList pricing inquiries today.‚Äù ‚ÄúHow many conversations happened?‚Äù
	‚Ä¢	AI answers directly within the dashboard.

‚∏ª

‚úÖ SECTION 4 ‚Äî INDUSTRY DEMO TEMPLATES

Import or create database templates for all industry types:
	‚Ä¢	Restaurant
	‚Ä¢	Barber
	‚Ä¢	Gym
	‚Ä¢	Auto Shop
	‚Ä¢	Home Services
	‚Ä¢	Tattoo Studio
	‚Ä¢	Real Estate
	‚Ä¢	Sober Living (Faith House)

Each template must define business info, services, FAQs, tone, prompts, crisis flows (only for sober living), and widget styling.

‚∏ª

‚úÖ SECTION 5 ‚Äî FINAL QA SWEEP

Once all changes are implemented:
	1.	Test authentication, role permissions, workspace boundaries, bot creation wizard, chat (including vision/voice), automations (V1 & V2), widget, leads, inbox, analytics, appointment system, billing limits, super admin features, industry demos, and mobile responsiveness.
	2.	Fix every bug found.
	3.	Print a list summarizing all changes, with file paths updated/created.
	4.	Confirm everything works: chat engine, widget, multi-tenancy, billing, analytics, automations, admin panels, demo bots, and security.

‚∏ª

üöÄ BEGIN NOW

Start by scanning all files, apply every fix and feature above, then conduct the final QA sweep. Do not skip steps, do not produce partial upgrades, and do not break existing functionality. Ensure the platform is ready for real clients.

‚∏ª

Copy and paste this entire prompt into Replit AI to execute the complete overhaul.